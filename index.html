<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ادفيستا - الربح من مشاهدة الإعلانات</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <!-- شريط التنقل -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="#" class="logo">
                <i class="fas fa-ad"></i> ادفيستا
            </a>
            
            <div class="nav-menu" id="navMenu">
                <a href="#home" class="nav-link active"><i class="fas fa-home"></i> الرئيسية</a>
                <a href="#ads" class="nav-link"><i class="fas fa-ad"></i> الإعلانات</a>
                <a href="#dashboard" class="nav-link"><i class="fas fa-chart-line"></i> لوحتي</a>
                <a href="#withdraw" class="nav-link"><i class="fas fa-money-bill-wave"></i> سحب الأرباح</a>
                <a href="#how-it-works" class="nav-link"><i class="fas fa-question-circle"></i> طريقة العمل</a>
            </div>
            
            <div class="nav-buttons">
                <div class="user-balance" id="userBalance" style="display: none;">
                    <i class="fas fa-coins"></i>
                    <span id="balance">0</span> نقطة
                </div>
                
                <!-- Google Sign-In Button Container -->
                <div id="g_id_signin" class="g_id_signin" style="display: none;"></div>
                
                <button class="btn btn-login" id="loginBtn">
                    <i class="fab fa-google"></i> تسجيل الدخول
                </button>
                
                <div class="user-profile" id="userProfile" style="display: none;">
                    <img id="userAvatar" src="" alt="صورة المستخدم" class="user-avatar">
                    <span id="userName"></span>
                    <button class="btn btn-logout" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> خروج
                    </button>
                </div>
                
                <button class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- قسم الترحيب -->
    <section class="hero" id="home">
        <div class="container hero-container">
            <div class="hero-text">
                <h1 class="hero-title">اربح المال من مشاهدة الإعلانات</h1>
                <p class="hero-description">
                    انضم إلى <span class="highlight">ادفيستا</span> وابدأ الربح اليوم! شاهد الإعلانات، أكمل المهام، واحصل على نقاط يمكنك استبدالها بأموال حقيقية أو جوائز قيمة.
                </p>
                <div class="hero-stats">
                    <div class="stat">
                        <h3>+<span id="totalUsers">0</span></h3>
                        <p>مستخدم نشط</p>
                    </div>
                    <div class="stat">
                        <h3>$<span id="totalPayouts">0</span>+</h3>
                        <p>تم دفعها</p>
                    </div>
                    <div class="stat">
                        <h3><span id="totalAds">0</span>+</h3>
                        <p>إعلان نشط</p>
                    </div>
                </div>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-large" id="startEarningBtn">
                        <i class="fas fa-play-circle"></i> ابدأ الربح الآن
                    </button>
                    <a href="#how-it-works" class="btn btn-secondary btn-large">
                        <i class="fas fa-info-circle"></i> تعرف أكثر
                    </a>
                </div>
            </div>
            <div class="hero-image">
                <img src="https://cdn.pixabay.com/photo/2017/09/14/22/42/money-2750931_1280.png" alt="ربح المال من الإعلانات" loading="lazy">
            </div>
        </div>
    </section>

    <!-- لوحة المستخدم -->
    <section class="dashboard-section" id="dashboard">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-chart-line"></i> لوحة التحكم</h2>
            <div class="dashboard-grid" id="userDashboard">
                <div class="login-required">
                    <i class="fas fa-lock"></i>
                    <h3>يجب تسجيل الدخول لعرض لوحة التحكم</h3>
                    <p>سجل الدخول باستخدام حساب جوجل لمشاهدة رصيدك وإحصائياتك</p>
                    <button class="btn btn-primary" id="dashboardLoginBtn">
                        <i class="fab fa-google"></i> تسجيل الدخول الآن
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- قسم السحب -->
    <section class="withdraw-section" id="withdraw">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-money-bill-wave"></i> سحب الأرباح</h2>
            <div class="withdraw-container" id="withdrawContainer">
                <div class="login-required">
                    <i class="fas fa-lock"></i>
                    <h3>يجب تسجيل الدخول لعرض قسم السحب</h3>
                    <p>سجل الدخول باستخدام حساب جوجل لطلب سحب أرباحك</p>
                    <button class="btn btn-primary" id="withdrawLoginBtn">
                        <i class="fab fa-google"></i> تسجيل الدخول الآن
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- قسم الإعلانات -->
    <section class="ads-section" id="ads">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title"><i class="fas fa-ad"></i> جدار الإعلانات</h2>
                <p class="section-subtitle">شاهد الإعلانات واكسب النقاط. كل إعلان له وقت محدد يجب مشاهدته بالكامل.</p>
            </div>
            
            <div class="ads-filter">
                <button class="filter-btn active" data-filter="all">الكل</button>
                <button class="filter-btn" data-filter="short">قصيرة (10-30 ثانية)</button>
                <button class="filter-btn" data-filter="medium">متوسطة (31-60 ثانية)</button>
                <button class="filter-btn" data-filter="long">طويلة (أكثر من دقيقة)</button>
            </div>
            
            <div class="ads-grid" id="adsGrid">
                <div class="loading-ads">
                    <div class="spinner"></div>
                    <p>جاري تحميل الإعلانات المتاحة...</p>
                </div>
            </div>
            
            <!-- عداد الإعلان -->
            <div class="ad-timer-overlay" id="adTimerOverlay">
                <div class="ad-timer-container">
                    <div class="ad-timer-header">
                        <h3 id="adTimerTitle">جاري مشاهدة الإعلان</h3>
                        <button class="close-timer" id="closeTimerBtn">&times;</button>
                    </div>
                    <div class="ad-timer-body">
                        <div class="timer-circle">
                            <svg class="timer-svg" width="120" height="120">
                                <circle class="timer-bg" cx="60" cy="60" r="54"></circle>
                                <circle class="timer-progress" cx="60" cy="60" r="54"></circle>
                            </svg>
                            <div class="timer-text">
                                <span id="timerSeconds">30</span>
                                <small>ثانية</small>
                            </div>
                        </div>
                        <div class="timer-instructions">
                            <p><i class="fas fa-exclamation-triangle"></i> يجب أن تبقى هذه الصفحة مفتوحة ورؤية حتى يكتمل العداد</p>
                            <p><i class="fas fa-eye"></i> سيفشل الإعلان إذا غادرت هذه الصفحة أو قمت بإغلاقها</p>
                        </div>
                        <div class="timer-status" id="timerStatus">
                            <i class="fas fa-check-circle"></i> الإعلان قيد التشغيل
                        </div>
                        <div class="timer-action" id="timerAction" style="display: none;">
                            <p>لقد أكملت مشاهدة الإعلان!</p>
                            <button class="btn btn-success" id="claimPointsBtn">احصل على النقاط</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- قسم طريقة العمل -->
    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <h2 class="section-title"><i class="fas fa-question-circle"></i> طريقة العمل</h2>
            <div class="steps-grid">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <h3>سجل الدخول</h3>
                    <p>قم بتسجيل الدخول باستخدام حساب جوجل الخاص بك لبدء رحلة الربح.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-icon">
                        <i class="fas fa-ad"></i>
                    </div>
                    <h3>اختر الإعلان</h3>
                    <p>تصفح قائمة الإعلانات المتاحة واختر الإعلان الذي ترغب بمشاهدته.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-icon">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h3>شاهد الإعلان</h3>
                    <p>شاهد الإعلان بالكامل خلال الوقت المحدد مع بقاء النافذة مفتوحة.</p>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <div class="step-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <h3>احصل على النقاط</h3>
                    <p>بعد انتهاء العداد، احصل على نقاطك التي يمكن استبدالها بأموال حقيقية.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- تذييل الصفحة -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3><i class="fas fa-ad"></i> ادفيستا</h3>
                    <p>منصة الربح من الإعلانات الرائدة في العالم العربي. اربح المال بمشاهدة الإعلانات بطريقة آمنة ومضمونة.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-telegram"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>روابط سريعة</h3>
                    <a href="#home">الرئيسية</a>
                    <a href="#ads">الإعلانات</a>
                    <a href="#dashboard">لوحة التحكم</a>
                    <a href="#withdraw">سحب الأرباح</a>
                    <a href="#how-it-works">طريقة العمل</a>
                </div>
                <div class="footer-col">
                    <h3>الشروط والسياسات</h3>
                    <a href="#">شروط الاستخدام</a>
                    <a href="#">سياسة الخصوصية</a>
                    <a href="#">سياسة الدفع</a>
                    <a href="#">الأسئلة الشائعة</a>
                </div>
                <div class="footer-col">
                    <h3>تواصل معنا</h3>
                    <p><i class="fas fa-envelope"></i> info@advista.com</p>
                    <p><i class="fas fa-phone"></i> +966 12 345 6789</p>
                    <p><i class="fas fa-map-marker-alt"></i> المملكة العربية السعودية</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2023 ادفيستا. جميع الحقوق محفوظة.</p>
                <p>تم التطوير بواسطة <span class="highlight">فريق ادفيستا</span></p>
            </div>
        </div>
    </footer>

    <!-- نموذج طلب السحب -->
    <div class="modal-overlay" id="withdrawModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3><i class="fas fa-money-bill-wave"></i> طلب سحب الأرباح</h3>
                <button class="modal-close" id="closeWithdrawModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="withdrawForm">
                    <div class="form-group">
                        <label for="withdrawAmount">مبلغ السحب (بالنقاط)</label>
                        <input type="number" id="withdrawAmount" class="form-control" min="20000" step="1000" placeholder="أدخل المبلغ المراد سحبه" required>
                        <small class="form-text">الحد الأدنى للسحب: 20,000 نقطة (1 دولار)</small>
                        <small class="form-text" id="amountInDollars"></small>
                    </div>
                    
                    <div class="form-group">
                        <label for="vodafoneNumber">رقم فودافون كاش</label>
                        <input type="tel" id="vodafoneNumber" class="form-control" pattern="[0-9]{11}" placeholder="أدخل رقم فودافون كاش (11 رقم)" required>
                        <small class="form-text">مثال: 01012345678</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="withdrawNotes">ملاحظات (اختياري)</label>
                        <textarea id="withdrawNotes" class="form-control" rows="3" placeholder="أضف أي ملاحظات تريد إبلاغها للإدارة"></textarea>
                    </div>
                    
                    <div class="withdraw-summary">
                        <h4>ملخص الطلب:</h4>
                        <div class="summary-item">
                            <span>رصيدك الحالي:</span>
                            <span id="currentBalanceSummary">0 نقطة</span>
                        </div>
                        <div class="summary-item">
                            <span>المبلغ المطلوب:</span>
                            <span id="requestedAmount">0 نقطة</span>
                        </div>
                        <div class="summary-item">
                            <span>القيمة بالدولار:</span>
                            <span id="amountInDollar">$0.00</span>
                        </div>
                        <div class="summary-item">
                            <span>الرصيد المتبقي:</span>
                            <span id="remainingBalance">0 نقطة</span>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-block">
                        <i class="fas fa-paper-plane"></i> إرسال طلب السحب
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- نافذة تأكيد السحب -->
    <div class="modal-overlay" id="confirmModal" style="display: none;">
        <div class="modal-container">
            <div class="modal-header">
                <h3><i class="fas fa-check-circle"></i> تأكيد طلب السحب</h3>
                <button class="modal-close" id="closeConfirmModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="confirmation-message">
                    <i class="fas fa-check-circle success-icon"></i>
                    <h4>تم إرسال طلب السحب بنجاح!</h4>
                    <p>سيتم مراجعة طلبك من قبل الإدارة خلال 24-48 ساعة</p>
                    <p>يمكنك متابعة حالة الطلب من قسم سحب الأرباح</p>
                </div>
                <button class="btn btn-success btn-block" id="closeConfirmBtn">
                    <i class="fas fa-check"></i> تم الفهم
                </button>
            </div>
        </div>
    </div>

    <!-- Google Sign-In Script -->
    <script>
        // Initialize Google Sign-In
        function initGoogleSignIn() {
            if (typeof google !== 'undefined') {
                google.accounts.id.initialize({
                    client_id: '805966277330-9j5j1nvluj69f8uieog0kk77p0jb46q4.apps.googleusercontent.com',
                    callback: handleGoogleSignIn,
                    auto_select: false,
                    cancel_on_tap_outside: true
                });
                
                // Render button
                google.accounts.id.renderButton(
                    document.getElementById('g_id_signin'),
                    {
                        type: 'standard',
                        theme: 'filled_blue',
                        size: 'medium',
                        text: 'signin_with',
                        shape: 'rectangular',
                        logo_alignment: 'left',
                        width: '200'
                    }
                );
            }
        }
        
        // Handle Google Sign-In callback
        function handleGoogleSignIn(response) {
            window.handleGoogleSignInResponse(response);
        }
        
        // Load Google Sign-In when script is ready
        window.addEventListener('load', function() {
            if (typeof google !== 'undefined') {
                initGoogleSignIn();
            }
        });
    </script>

    <!-- روابط JavaScript -->
    <script src="script.js"></script>
</body>
</html>
